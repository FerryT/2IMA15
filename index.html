<html>
<head>
	<title>We need a name!</title>
	<script src="jquery-2.1.4.min.js"></script>
	<script src="jquery.scrollTo.min.js"></script>
	<script src="jquery.waypoints.min.js"></script>
	<script src="d3.min.js" charset="utf-8"></script>
	<script src="geometry.js"></script>
	<script src="behavior.js"></script>
	<script src="game.js"></script>
	<script src="visuals.js"></script>
	<script src="sliceAlgorithms.js"></script>
	<script src="leveldesign.js"></script>
	<link rel="stylesheet" type="text/css" href="interface.css">
	<link rel="stylesheet" type="text/css" href="visuals.css">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
	<!-- Icons from Open Iconic: see /ICON-LICENSE -->
	<svg version="1.1" xmlns="http://www.w3.org/2000/svg" style="display:none">
		<defs>
			<symbol id="media-play" viewBox="0 0 8 8">
				<path d="M0 0v6l6-3-6-3z" transform="translate(1 1)"></path>
			</symbol>
			<symbol id="chevron-left" viewBox="0 0 8 8">
				<path d="M4 0l-4 4 4 4 1.5-1.5-2.5-2.5 2.5-2.5-1.5-1.5z" transform="translate(1)"></path>
			</symbol>
			<symbol id="media-pause" viewBox="0 0 8 8">
				<path d="M0 0v6h2v-6h-2zm4 0v6h2v-6h-2z" transform="translate(1 1)"></path>
			</symbol>
			<symbol id="reload" viewBox="0 0 8 8">
				<path d="M4 0c-2.201 0-4 1.799-4 4s1.799 4 4 4c1.104 0 2.092-.456 2.813-1.188l-.688-.688c-.54.548-1.289.875-2.125.875-1.659 0-3-1.341-3-3s1.341-3 3-3c.834 0 1.545.354 2.094.906l-1.094 1.094h3v-3l-1.188 1.188c-.731-.72-1.719-1.188-2.813-1.188z"></path>
			</symbol>
			<symbol id="arrow-thick-right" viewBox="0 0 8 8">
				<path d="M5 0v2h-5v2h5v2l3-3.031-3-2.969z" transform="translate(0 1)"></path>
			</symbol>
		</defs>
	</svg>

	<header id="topbar">
		<button class="icon" id="btn-back">chevron-left</button>
	</header>
	<header id="gamebar">
		<span class="group1">
			<button class="icon" id="btn-menu">chevron-left</button>
		</span>
		<span class="group2">
			<button class="icon" id="btn-restart">reload</button>
			<button class="icon" id="btn-pause">media-pause</button>
		</span>
	</header>
	<div id="game" class="page">
		<h1 id="levelheader">Level 1</h1>
		<svg id="field"></svg>
	</div>
	<nav id="menu" class="page">
		<a id="btn-play">Play</a>
		<a id="btn-options">Options</a>
		<a id="btn-about">About</a>
		<a id="btn-exit">Exit</a>
	</nav>
	<div id="options" class="page">
		<h1>Options</h1>
	</div>
	<div id="about" class="page">
		<nav id="about-tabs">
			<a id="btn-about-algorithms" class="selected">Algorithms</a>
			<a id="btn-about-duality">Duality</a>
			<a id="btn-about-info">Info</a>
			<a id="btn-about-credits">Credits</a>
		</nav>
		<article>
			<section id="about-algorithms"></section>
			<section id="about-duality"></section>
			<section id="about-info"></section>
			<section id="about-credits"></section>
		</article>
	</div>
	<div id="loader" class="page">
		<h1>Loading...</h1>
	</div>
	<div id="pause-screen" class="page">
		<h1>- Paused -</h1>
		<p>Press here to resume</p>
	</div>
	<div id="win-screen" class="page">
		<h1>Congratulations!</h1>
		<p>
			But there are more levels..
		</p>
		<p>
			<button id="btn-win-restart">Replay</button>
			<button id="btn-win-resume">Next</button>
		</p>
		<p>
			<button id="btn-win-menu">Menu</button>
		</p>
	</div>
	<script src="interface.js"></script>
	<script src="about.js"></script>
	<script>
		$(function()
		{
			var game = new Game(640, 360, 1000 / 60 /* 60 fps */),
				field = new Field('field', game);

			window.game = game;
			window.field = field;

			InitializeLevels(game.rect.shrink(20));
			game.on('update', field.updateLevel.bind(field));
			game.on('win', function() { $('#win-screen').show() });
			game.start(1).pause();

			$(function() // Debug
			{
				$('#btn-play').click();
			})
		});
	</script>
</body>
</html>